# GHOST Assembler
This script assembles the file specified in the first argument, or `./main.ghasm`


## Operation
**Requires `./assemblerDefs.py`, generated by the Downloader**

Two pass compiler that, in order:

**Pass 1**

1. Clears the comments from each line
2. Resolves shorthand based on arguments (ie. `LD 0 0x0000` becomes `LDV 0 0x0000`)
3. Validates the arguments of each instruction based on `assemblerDefs.py`
4. Records the labels in the program to fill in later

**Pass 2**

5. Fills in the labels as appropriate, handling substrings (ie. 'vars' vs 'vars1')
6. Converts .d? to hex
7. Handles basic math with python's built-in `eval()` function
8. Validates each byte

## Formats
Additionally, an output format can be given.
The default accepted by the simulator as of now is DecimalDict for performance reasons, but it will soon change to Hex in both programs (TODO)

** WhitespaceHex**
Outputs the 4 digit hex codes, but leaves the original whitespacing intact. Very useful for seeing the GHASM to hex conversion
** Hex**
Current format, basic hex codes
** Binary**
Same as above, but in 16 bit binary. Less useful in most cases, but an option nontheless
** DecimalDict**
Previous format, uses a python dictionary with regular integers as both keys and values

## Debugging
There is an optional step to output the midpoint file between the two passes to `./Pass1.txt`, but it must be uncommented on line 144-145 (TODO: Make an easier option and change file name)
